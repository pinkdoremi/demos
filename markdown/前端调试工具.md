#前端开发如何调试
调试是开发解决问题过程中的一个重要技能。代码中处处需要调试。接下来我将会介绍
前端调试过程中，必备的工具和高效的神器。
##javascript调试
说到JavaScript调试不得不说一下JS最原始的调试手段：`alert`和`console`。
###alert
虽然说这个方法用来调试真的很挫，但是有时候用它还真合适。
###console
`console.log('是最常用的最方便的把变量打印到控制台的方法。')`

`console`有很多方法，在进行控制台打印时，会有不同的特效。
+ `error(message)` 错误信息

    ![](http://7xk7hc.com1.z0.glb.clouddn.com/error.jpg)
+ `info(message)` 信息

    ![](http://7xk7hc.com1.z0.glb.clouddn.com/info.jpg)
+ `warn(message)` 警告信息

    ![](http://7xk7hc.com1.z0.glb.clouddn.com/warn.jpg)
+ `log(message)` 日志信息

    ![](http://7xk7hc.com1.z0.glb.clouddn.com/log.jpg)

console还能够输出带有样式的文案，
在很多网站打开控制台可以看到带有样式的花式招聘:

      console.log("%c需要输出的信息 ", "css 代码");
###debugger;
在代码中插入debugger等于在代码中加入一个断点，当程序运行到此处时，
就会暂停，以便在开发者工具中进行调试。
eg.

    var c,a = 'hello',b = 'world';
    debugger;//程序运行到此处会暂停，此时可以查看a,b的值等。
    c = a + b;
##chrome dev tool
官方介绍的网址：[https://developer.chrome.com/devtools](https://developer.chrome.com/devtools)
chrome的开发者工具是长这个样子的：
![](http://7xk7hc.com1.z0.glb.clouddn.com/cdt.PNG)
###使用指南
####1. 调试模式
图片上的(1)可以控制是调试一个pc页面这种**上页面下工具**，
还是手机**左页面右工具**，还是土豪双屏特供：**工具页面分成2页**。
####2. 手机模式
+ 图片上的(16)点击后页面会进入手机模式
+ 可以点击(15)选择是什么设备
+ (12)可以控制屏幕的尺寸,(13)勾选后可以让你视野内可以容纳一整张页面不管页面尺寸多大。
+ (11)可以控制ratio，1/2....
+ (14)可以控制网速,2g,3g...
+ 点击(3)可以显示(19)这一块区域。其中的emulation可以控制css media,
network,touch模式,加速器,经纬度，还有和左边的面板顶部类似的功能等功能。

####3. dom元素和样式
+ (2)elements这个tab是最基础并且最常用的一个tab,在这个tab内,
可以观察文档结构HTML,css样式
+ (17)照妖镜，用照妖镜照元素和右击页面审查元素的效果一样，
都是让工具瞄准到当前的元素。可以快速查找到需要分析的dom元素。
+ 右击html元素可以让元素添加`:hover`+`:active`等等，此外还有编辑，
删除元素，对dom元素加断点等等。
+ 下面(10)是有css样式，也可以修改。控制`:hover`+`:active`等等状态，
控制动画快慢。(18)可以搜索样式。
+ eventListener中可以查看所有注册的监听。
+ DOM Breakpoints可以控制dom中的断点。

####4. 断点调试
在Sources页面可以进行非常方便的断点调试。
![](http://7xk7hc.com1.z0.glb.clouddn.com/sources.PNG)
+ 点击(1)可以显示站点引用到的所有的资源，可以将资源在右边显示。
+ 右边的脚本可以进行断点调试,(2)为一个断点。点击(2)这个区域内可以添加/删除断点。
+ (3)让当前页面暂停执行，(4)至下个断点，(5)下一步，或者到函数内去执行。
(6)跳出当前执行的函数。(7)让所有断点安静(无效)。(8)有error时暂停。
+ 调试中时，(11)会显示当前调用的栈。
+ (12)会显示所有定下来的断点，可以在这里把他们一一取消。
+ (13)dom断点，(14)请求的断点,(15)可以添加对事件的断点。
+ (10)中可以显示当前作用域的变量值，并且可以添加表达式，显示表达式的实时的值。

####5. 本地缓存
Resource中存放了各式各样的本地缓存。有LocalStorage,SessionStorage,Cookies,Application Cache,Web Sql,Index DB以及对JS html css和图片等资源的缓存。

####6. 网络请求
在Network中可以看到所有的网络资源的请求。
在Network中重新加载页面的时候会出现如下的页面：
![](http://7xk7hc.com1.z0.glb.clouddn.com/NetWork.PNG)
(1)中显示的内容为在同一个时间线上资源的请求顺序以及耗费的时间，鼠标移到上面可以细看一个请求的具体数据。
(2)中就是那个时间线。

####7. 性能监控
Timeline是用于性能监控的一个工具,是一个非常有用但是也复杂的一个面板，他可以帮助分析页面执行时间内，是哪部分操作占用的资源较多，或者耗费时长较多。
可以参考这里去了解Timeline面板的用法：[Chrome Developer Tools之Timeline面板](http://www.kazaff.me/2014/01/18/chrome-developer-tools%E4%B9%8Btimeline%E9%9D%A2%E6%9D%BF/)

##使用Fiddler来调试网络请求
fiddler是一个前端开发非常重要的工具(windows)。它的教程网上也有很多，我这里觉得他的主要用法有以下几点：
###查看网络请求
查看Request & Responce中的各种内容。
这点和之前ChromeDevTool中的Network相似。
###抓取手机的请求
开启远程fiddler的代理功能：
Tools--->Fiddler Options--->Connections

勾选`Allow remote computers to connect`,记住当前代理的端口号。让手机连上无线网和电脑处于同一个局域网内，手机开启代理，
并且ip填写本机地址，代理为前面设置的代理端口。

此时手机上所有的数据请求都能够被Fiddler抓到了。
###模拟测试数据
利用AutoResponder来模拟测试数据。当后端接口还没有完成时，
前端可以自己做一个假数据去模拟，加快开发进度。
有时还可以用来替换掉图片，替换掉下载到客户端中的zip包。

方法：

点击这个请求-->Add Rule-->Rule Editor中选择回调文件-->Save
###修改Host映射
将请求到XXX域名的请求都掉头请求CCC域名。常用来将线上地址的客户端映射到测试地址中，
不用改代码就能实现对新接口的测试。

##browser-sync
browser-sync是一个可以让你的网站，每次保存修改时，
所有正在访问网站的页面都自动刷新页面来显示最新的修改。这对于移动端的调试非常便捷
。一来省去了有缓存的麻烦，二来可以省去机械地刷新页面的操作。

此外，它还有个让人精神矍铄的功能就是：它可以同步在任意一个页面的滚动，点击，
表单输入的功能。在任意一个页面滚动页面，其他所有打开browser-sync的页面都会进行滚动。

###5分钟快速安装：
1. 安装nodejs
2. 命令行：`npm install -g browser-sync`
3. 进入项目目录，使用`browser-sync start --server --files "css/*.css"
`
详细的使用方法详见：[响应式调试利器BrowserSync](http://yukihe.com/2015/06/26/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%B0%83%E8%AF%95%E5%88%A9%E5%99%A8BrowserSync/)
![](http://7xk7hc.com1.z0.glb.clouddn.com/browsersync.PNG)

##搭建服务器
除了browser-sync以外还有几个可以帮助本地搭建服务器的工具。
有一点常识：0.0.0.0 & localhost & 127.X.X.X &本机ip 都是本机地址。
###IIS
使用windows的用户可以使用本地的IIS配置，一般的系统都不会自带IIS，
需要手动安装一下：

控制面板\所有控制面板项\程序和功能-->打开或关闭windows功能-->
Internet信息服务-->web管理工具

把这里面的都给勾上，安装后，打开iis建立自己的站点。下次开机不用重新设置。
![](http://7xk7hc.com1.z0.glb.clouddn.com/iis.PNG)
###http-server
命令行`npm install -g http-server`后可以安装成功`http-server`。

安装成功后，在任意目录键入`http-server`，则会建立一个服务器。
![](http://7xk7hc.com1.z0.glb.clouddn.com/http-server.PNG)
###anywhere
anywhere是一个相对于http-server更好用的一个调试用的服务器。
可以查看本地目录文件。而且在建立服务器的同时会立即打开页面。

安装同样也是命令行`npm install -g anywhere`

安装成功后调用`anywhere -p 8080`即可以打开一个8080端口的服务器。

![](http://7xk7hc.com1.z0.glb.clouddn.com/anywhere.PNG)

##远程调试
首先前端都必备一个生成二维码的浏览器插件，方便手机调试。
[草料二维码](http://cli.im/)
###weinre
weinre是一个可以调试在手机上打开的页面的一个工具。
安装方法：

`npm -g install weinre`

使用方法：

1. 命令行输入

    `weinre -httpPort 8081 -boundHost -all-  //8081自定义端口，可以根据自己需要选择端口号`
2. 在页面html中加入一个标签

    `<script src="http://ip:8081/target/target-script-min.js#anonymous"></script>  //开启服务的pc及端口号`

3. 在浏览器中输入`http://localhost:8081`打开调试面板。
![](http://7xk7hc.com1.z0.glb.clouddn.com/weinre.PNG)

在BrowserSync的UI控制面板中也可以一键开启weinre功能。
![](http://7xk7hc.com1.z0.glb.clouddn.com/browserweinre.PNG)
###safari
如果使用MAC的话，可以使用Safari调试ios设备[通过Mac远程调试iPhone/iPad上的网页](http://www.leiphone.com/news/201406/ios-safari-remote-debugging.html)
###chrome
chrome for Android和桌面版本的chrome也可以联调。

[网盘教程](http://pan.baidu.com/s/1i3mViOd)

[Google官方教程](https://developer.chrome.com/devtools/docs/remote-debugging)
